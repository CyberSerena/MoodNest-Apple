{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":49,"index":139}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":140},"end":{"line":3,"column":31,"index":171}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await SecureStore.getItemAsync('authToken');\n        if (storedToken) {\n          setToken(storedToken);\n          const response = await api.default.get('/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Failed to load auth:', error);\n        await SecureStore.deleteItemAsync('authToken');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/auth/login', {\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: userData\n      } = response.data;\n      await SecureStore.setItemAsync('authToken', newToken);\n      setToken(newToken);\n      setUser(userData);\n    };\n    const register = async (name, email, password) => {\n      const response = await api.default.post('/auth/register', {\n        name,\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: userData\n      } = response.data;\n      await SecureStore.setItemAsync('authToken', newToken);\n      setToken(newToken);\n      setUser(userData);\n    };\n    const logout = async () => {\n      await SecureStore.deleteItemAsync('authToken');\n      setToken(null);\n      setUser(null);\n    };\n    const updateUser = data => {\n      if (user) {\n        setUser({\n          ...user,\n          ...data\n        });\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        updateUser,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":125,"map":[[28,2,25,0,"exports"],[28,9,25,0],[28,10,25,0,"AuthProvider"],[28,22,25,0],[28,25,25,0,"AuthProvider"],[28,37,25,0],[29,2,85,0,"exports"],[29,9,85,0],[29,10,85,0,"useAuth"],[29,17,85,0],[29,20,85,0,"useAuth"],[29,27,85,0],[30,2,1,0],[30,6,1,0,"_react"],[30,12,1,0],[30,15,1,0,"require"],[30,22,1,0],[30,23,1,0,"_dependencyMap"],[30,37,1,0],[31,2,2,0],[31,6,2,0,"_expoSecureStore"],[31,22,2,0],[31,25,2,0,"require"],[31,32,2,0],[31,33,2,0,"_dependencyMap"],[31,47,2,0],[32,2,2,0],[32,6,2,0,"SecureStore"],[32,17,2,0],[32,20,2,0,"_interopNamespace"],[32,37,2,0],[32,38,2,0,"_expoSecureStore"],[32,54,2,0],[33,2,3,0],[33,6,3,0,"_utilsApi"],[33,15,3,0],[33,18,3,0,"require"],[33,25,3,0],[33,26,3,0,"_dependencyMap"],[33,40,3,0],[34,2,3,0],[34,6,3,0,"api"],[34,9,3,0],[34,12,3,0,"_interopDefault"],[34,27,3,0],[34,28,3,0,"_utilsApi"],[34,37,3,0],[35,2,3,31],[35,6,3,31,"_reactJsxDevRuntime"],[35,25,3,31],[35,28,3,31,"require"],[35,35,3,31],[35,36,3,31,"_dependencyMap"],[35,50,3,31],[36,2,23,0],[36,8,23,6,"AuthContext"],[36,19,23,17],[36,35,23,20],[36,39,23,20,"createContext"],[36,45,23,33],[36,46,23,33,"createContext"],[36,59,23,33],[36,61,23,63,"undefined"],[36,70,23,72],[36,71,23,73],[37,2,25,7],[37,11,25,16,"AuthProvider"],[37,23,25,28,"AuthProvider"],[37,24,25,29],[38,4,25,31,"children"],[39,2,25,65],[39,3,25,66],[39,5,25,68],[40,4,26,2],[40,10,26,8],[40,11,26,9,"user"],[40,15,26,13],[40,17,26,15,"setUser"],[40,24,26,22],[40,25,26,23],[40,28,26,26],[40,32,26,26,"useState"],[40,38,26,34],[40,39,26,34,"useState"],[40,47,26,34],[40,49,26,48],[40,53,26,52],[40,54,26,53],[41,4,27,2],[41,10,27,8],[41,11,27,9,"token"],[41,16,27,14],[41,18,27,16,"setToken"],[41,26,27,24],[41,27,27,25],[41,30,27,28],[41,34,27,28,"useState"],[41,40,27,36],[41,41,27,36,"useState"],[41,49,27,36],[41,51,27,52],[41,55,27,56],[41,56,27,57],[42,4,28,2],[42,10,28,8],[42,11,28,9,"isLoading"],[42,20,28,18],[42,22,28,20,"setIsLoading"],[42,34,28,32],[42,35,28,33],[42,38,28,36],[42,42,28,36,"useState"],[42,48,28,44],[42,49,28,44,"useState"],[42,57,28,44],[42,59,28,45],[42,63,28,49],[42,64,28,50],[43,4,30,2],[43,8,30,2,"useEffect"],[43,14,30,11],[43,15,30,11,"useEffect"],[43,24,30,11],[43,26,30,12],[43,32,30,18],[44,6,31,4,"loadStoredAuth"],[44,20,31,18],[44,21,31,19],[44,22,31,20],[45,4,32,2],[45,5,32,3],[45,7,32,5],[45,9,32,7],[45,10,32,8],[46,4,34,2],[46,10,34,8,"loadStoredAuth"],[46,24,34,22],[46,27,34,25],[46,33,34,25,"loadStoredAuth"],[46,34,34,25],[46,39,34,37],[47,6,35,4],[47,10,35,8],[48,8,36,6],[48,14,36,12,"storedToken"],[48,25,36,23],[48,28,36,26],[48,34,36,32,"SecureStore"],[48,45,36,43],[48,46,36,44,"getItemAsync"],[48,58,36,56],[48,59,36,57],[48,70,36,68],[48,71,36,69],[49,8,37,6],[49,12,37,10,"storedToken"],[49,23,37,21],[49,25,37,23],[50,10,38,8,"setToken"],[50,18,38,16],[50,19,38,17,"storedToken"],[50,30,38,28],[50,31,38,29],[51,10,39,8],[51,16,39,14,"response"],[51,24,39,22],[51,27,39,25],[51,33,39,31,"api"],[51,36,39,34],[51,37,39,34,"default"],[51,44,39,34],[51,45,39,35,"get"],[51,48,39,38],[51,49,39,39],[51,59,39,49],[51,60,39,50],[52,10,40,8,"setUser"],[52,17,40,15],[52,18,40,16,"response"],[52,26,40,24],[52,27,40,25,"data"],[52,31,40,29],[52,32,40,30],[53,8,41,6],[54,6,42,4],[54,7,42,5],[54,8,42,6],[54,15,42,13,"error"],[54,20,42,18],[54,22,42,20],[55,8,43,6,"console"],[55,15,43,13],[55,16,43,14,"error"],[55,21,43,19],[55,22,43,20],[55,44,43,42],[55,46,43,44,"error"],[55,51,43,49],[55,52,43,50],[56,8,44,6],[56,14,44,12,"SecureStore"],[56,25,44,23],[56,26,44,24,"deleteItemAsync"],[56,41,44,39],[56,42,44,40],[56,53,44,51],[56,54,44,52],[57,6,45,4],[57,7,45,5],[57,16,45,14],[58,8,46,6,"setIsLoading"],[58,20,46,18],[58,21,46,19],[58,26,46,24],[58,27,46,25],[59,6,47,4],[60,4,48,2],[60,5,48,3],[61,4,50,2],[61,10,50,8,"login"],[61,15,50,13],[61,18,50,16],[61,24,50,16,"login"],[61,25,50,23,"email"],[61,30,50,36],[61,32,50,38,"password"],[61,40,50,54],[61,45,50,59],[62,6,51,4],[62,12,51,10,"response"],[62,20,51,18],[62,23,51,21],[62,29,51,27,"api"],[62,32,51,30],[62,33,51,30,"default"],[62,40,51,30],[62,41,51,31,"post"],[62,45,51,35],[62,46,51,36],[62,59,51,49],[62,61,51,51],[63,8,51,53,"email"],[63,13,51,58],[64,8,51,60,"password"],[65,6,51,69],[65,7,51,70],[65,8,51,71],[66,6,52,4],[66,12,52,10],[67,8,52,12,"token"],[67,13,52,17],[67,15,52,19,"newToken"],[67,23,52,27],[68,8,52,29,"user"],[68,12,52,33],[68,14,52,35,"userData"],[69,6,52,44],[69,7,52,45],[69,10,52,48,"response"],[69,18,52,56],[69,19,52,57,"data"],[69,23,52,61],[70,6,53,4],[70,12,53,10,"SecureStore"],[70,23,53,21],[70,24,53,22,"setItemAsync"],[70,36,53,34],[70,37,53,35],[70,48,53,46],[70,50,53,48,"newToken"],[70,58,53,56],[70,59,53,57],[71,6,54,4,"setToken"],[71,14,54,12],[71,15,54,13,"newToken"],[71,23,54,21],[71,24,54,22],[72,6,55,4,"setUser"],[72,13,55,11],[72,14,55,12,"userData"],[72,22,55,20],[72,23,55,21],[73,4,56,2],[73,5,56,3],[74,4,58,2],[74,10,58,8,"register"],[74,18,58,16],[74,21,58,19],[74,27,58,19,"register"],[74,28,58,26,"name"],[74,32,58,38],[74,34,58,40,"email"],[74,39,58,53],[74,41,58,55,"password"],[74,49,58,71],[74,54,58,76],[75,6,59,4],[75,12,59,10,"response"],[75,20,59,18],[75,23,59,21],[75,29,59,27,"api"],[75,32,59,30],[75,33,59,30,"default"],[75,40,59,30],[75,41,59,31,"post"],[75,45,59,35],[75,46,59,36],[75,62,59,52],[75,64,59,54],[76,8,59,56,"name"],[76,12,59,60],[77,8,59,62,"email"],[77,13,59,67],[78,8,59,69,"password"],[79,6,59,78],[79,7,59,79],[79,8,59,80],[80,6,60,4],[80,12,60,10],[81,8,60,12,"token"],[81,13,60,17],[81,15,60,19,"newToken"],[81,23,60,27],[82,8,60,29,"user"],[82,12,60,33],[82,14,60,35,"userData"],[83,6,60,44],[83,7,60,45],[83,10,60,48,"response"],[83,18,60,56],[83,19,60,57,"data"],[83,23,60,61],[84,6,61,4],[84,12,61,10,"SecureStore"],[84,23,61,21],[84,24,61,22,"setItemAsync"],[84,36,61,34],[84,37,61,35],[84,48,61,46],[84,50,61,48,"newToken"],[84,58,61,56],[84,59,61,57],[85,6,62,4,"setToken"],[85,14,62,12],[85,15,62,13,"newToken"],[85,23,62,21],[85,24,62,22],[86,6,63,4,"setUser"],[86,13,63,11],[86,14,63,12,"userData"],[86,22,63,20],[86,23,63,21],[87,4,64,2],[87,5,64,3],[88,4,66,2],[88,10,66,8,"logout"],[88,16,66,14],[88,19,66,17],[88,25,66,17,"logout"],[88,26,66,17],[88,31,66,29],[89,6,67,4],[89,12,67,10,"SecureStore"],[89,23,67,21],[89,24,67,22,"deleteItemAsync"],[89,39,67,37],[89,40,67,38],[89,51,67,49],[89,52,67,50],[90,6,68,4,"setToken"],[90,14,68,12],[90,15,68,13],[90,19,68,17],[90,20,68,18],[91,6,69,4,"setUser"],[91,13,69,11],[91,14,69,12],[91,18,69,16],[91,19,69,17],[92,4,70,2],[92,5,70,3],[93,4,72,2],[93,10,72,8,"updateUser"],[93,20,72,18],[93,23,72,22,"data"],[93,27,72,41],[93,31,72,46],[94,6,73,4],[94,10,73,8,"user"],[94,14,73,12],[94,16,73,14],[95,8,74,6,"setUser"],[95,15,74,13],[95,16,74,14],[96,10,74,16],[96,13,74,19,"user"],[96,17,74,23],[97,10,74,25],[97,13,74,28,"data"],[98,8,74,33],[98,9,74,34],[98,10,74,35],[99,6,75,4],[100,4,76,2],[100,5,76,3],[101,4,78,2],[101,24,79,4],[101,28,79,4,"_reactJsxDevRuntime"],[101,47,79,4],[101,48,79,4,"jsxDEV"],[101,54,79,4],[101,56,79,5,"AuthContext"],[101,67,79,16],[101,68,79,17,"Provider"],[101,76,79,25],[102,6,79,26,"value"],[102,11,79,31],[102,13,79,33],[103,8,79,35,"user"],[103,12,79,39],[104,8,79,41,"token"],[104,13,79,46],[105,8,79,48,"login"],[105,13,79,53],[106,8,79,55,"register"],[106,16,79,63],[107,8,79,65,"logout"],[107,14,79,71],[108,8,79,73,"updateUser"],[108,18,79,83],[109,8,79,85,"isLoading"],[110,6,79,95],[110,7,79,97],[111,6,79,97,"children"],[111,14,79,97],[111,16,80,7,"children"],[112,4,80,15],[113,6,80,15,"fileName"],[113,14,80,15],[113,16,80,15,"_jsxFileName"],[113,28,80,15],[114,6,80,15,"lineNumber"],[114,16,80,15],[115,6,80,15,"columnNumber"],[115,18,80,15],[116,4,80,15],[116,11,81,26],[116,12,81,27],[117,2,83,0],[118,2,85,7],[118,11,85,16,"useAuth"],[118,18,85,23,"useAuth"],[118,19,85,23],[118,21,85,26],[119,4,86,2],[119,10,86,8,"context"],[119,17,86,15],[119,20,86,18],[119,24,86,18,"useContext"],[119,30,86,28],[119,31,86,28,"useContext"],[119,41,86,28],[119,43,86,29,"AuthContext"],[119,54,86,40],[119,55,86,41],[120,4,87,2],[120,8,87,6,"context"],[120,15,87,13],[120,20,87,18,"undefined"],[120,29,87,27],[120,31,87,29],[121,6,88,4],[121,12,88,10],[121,16,88,14,"Error"],[121,21,88,19],[121,22,88,20],[121,67,88,65],[121,68,88,66],[122,4,89,2],[123,4,90,2],[123,11,90,9,"context"],[123,18,90,16],[124,2,91,0],[125,0,91,1],[125,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","updateUser","useAuth"],"mappings":"AAA;OCwB;YCK;GDE;yBEE;GFc;gBGE;GHM;mBIE;GJM;iBKE;GLI;qBME;GNI;CDO;OQE"},"hasCjsExports":false},"type":"js/module"}]}