{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":49,"index":139}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":140},"end":{"line":3,"column":31,"index":171}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await SecureStore.getItemAsync('authToken');\n        if (storedToken) {\n          setToken(storedToken);\n          const response = await api.default.get('/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Failed to load auth:', error);\n        await SecureStore.deleteItemAsync('authToken');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/auth/login', {\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: userData\n      } = response.data;\n      await SecureStore.setItemAsync('authToken', newToken);\n      setToken(newToken);\n      setUser(userData);\n    };\n    const register = async (name, email, password) => {\n      const response = await api.default.post('/auth/register', {\n        name,\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: userData\n      } = response.data;\n      await SecureStore.setItemAsync('authToken', newToken);\n      setToken(newToken);\n      setUser(userData);\n    };\n    const logout = async () => {\n      await SecureStore.deleteItemAsync('authToken');\n      setToken(null);\n      setUser(null);\n    };\n    const updateUser = data => {\n      if (user) {\n        setUser({\n          ...user,\n          ...data\n        });\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        updateUser,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":134,"map":[[30,2,25,0,"exports"],[30,9,25,0],[30,10,25,0,"AuthProvider"],[30,22,25,0],[30,25,25,0,"AuthProvider"],[30,37,25,0],[31,2,85,0,"exports"],[31,9,85,0],[31,10,85,0,"useAuth"],[31,17,85,0],[31,20,85,0,"useAuth"],[31,27,85,0],[32,2,1,0],[32,6,1,0,"_react"],[32,12,1,0],[32,15,1,0,"require"],[32,22,1,0],[32,23,1,0,"_dependencyMap"],[32,37,1,0],[33,2,2,0],[33,6,2,0,"_expoSecureStore"],[33,22,2,0],[33,25,2,0,"require"],[33,32,2,0],[33,33,2,0,"_dependencyMap"],[33,47,2,0],[34,2,2,0],[34,6,2,0,"SecureStore"],[34,17,2,0],[34,20,2,0,"_interopNamespace"],[34,37,2,0],[34,38,2,0,"_expoSecureStore"],[34,54,2,0],[35,2,3,0],[35,6,3,0,"_utilsApi"],[35,15,3,0],[35,18,3,0,"require"],[35,25,3,0],[35,26,3,0,"_dependencyMap"],[35,40,3,0],[36,2,3,0],[36,6,3,0,"api"],[36,9,3,0],[36,12,3,0,"_interopDefault"],[36,27,3,0],[36,28,3,0,"_utilsApi"],[36,37,3,0],[37,2,3,31],[37,6,3,31,"_reactJsxDevRuntime"],[37,25,3,31],[37,28,3,31,"require"],[37,35,3,31],[37,36,3,31,"_dependencyMap"],[37,50,3,31],[38,2,23,0],[38,8,23,6,"AuthContext"],[38,19,23,17],[38,35,23,20],[38,39,23,20,"createContext"],[38,45,23,33],[38,46,23,33,"createContext"],[38,59,23,33],[38,61,23,63,"undefined"],[38,70,23,72],[38,71,23,73],[39,2,25,7],[39,11,25,16,"AuthProvider"],[39,23,25,28,"AuthProvider"],[39,24,25,29],[40,4,25,31,"children"],[41,2,25,65],[41,3,25,66],[41,5,25,68],[42,4,25,68,"_s"],[42,6,25,68],[43,4,26,2],[43,10,26,8],[43,11,26,9,"user"],[43,15,26,13],[43,17,26,15,"setUser"],[43,24,26,22],[43,25,26,23],[43,28,26,26],[43,32,26,26,"useState"],[43,38,26,34],[43,39,26,34,"useState"],[43,47,26,34],[43,49,26,48],[43,53,26,52],[43,54,26,53],[44,4,27,2],[44,10,27,8],[44,11,27,9,"token"],[44,16,27,14],[44,18,27,16,"setToken"],[44,26,27,24],[44,27,27,25],[44,30,27,28],[44,34,27,28,"useState"],[44,40,27,36],[44,41,27,36,"useState"],[44,49,27,36],[44,51,27,52],[44,55,27,56],[44,56,27,57],[45,4,28,2],[45,10,28,8],[45,11,28,9,"isLoading"],[45,20,28,18],[45,22,28,20,"setIsLoading"],[45,34,28,32],[45,35,28,33],[45,38,28,36],[45,42,28,36,"useState"],[45,48,28,44],[45,49,28,44,"useState"],[45,57,28,44],[45,59,28,45],[45,63,28,49],[45,64,28,50],[46,4,30,2],[46,8,30,2,"useEffect"],[46,14,30,11],[46,15,30,11,"useEffect"],[46,24,30,11],[46,26,30,12],[46,32,30,18],[47,6,31,4,"loadStoredAuth"],[47,20,31,18],[47,21,31,19],[47,22,31,20],[48,4,32,2],[48,5,32,3],[48,7,32,5],[48,9,32,7],[48,10,32,8],[49,4,34,2],[49,10,34,8,"loadStoredAuth"],[49,24,34,22],[49,27,34,25],[49,33,34,25,"loadStoredAuth"],[49,34,34,25],[49,39,34,37],[50,6,35,4],[50,10,35,8],[51,8,36,6],[51,14,36,12,"storedToken"],[51,25,36,23],[51,28,36,26],[51,34,36,32,"SecureStore"],[51,45,36,43],[51,46,36,44,"getItemAsync"],[51,58,36,56],[51,59,36,57],[51,70,36,68],[51,71,36,69],[52,8,37,6],[52,12,37,10,"storedToken"],[52,23,37,21],[52,25,37,23],[53,10,38,8,"setToken"],[53,18,38,16],[53,19,38,17,"storedToken"],[53,30,38,28],[53,31,38,29],[54,10,39,8],[54,16,39,14,"response"],[54,24,39,22],[54,27,39,25],[54,33,39,31,"api"],[54,36,39,34],[54,37,39,34,"default"],[54,44,39,34],[54,45,39,35,"get"],[54,48,39,38],[54,49,39,39],[54,59,39,49],[54,60,39,50],[55,10,40,8,"setUser"],[55,17,40,15],[55,18,40,16,"response"],[55,26,40,24],[55,27,40,25,"data"],[55,31,40,29],[55,32,40,30],[56,8,41,6],[57,6,42,4],[57,7,42,5],[57,8,42,6],[57,15,42,13,"error"],[57,20,42,18],[57,22,42,20],[58,8,43,6,"console"],[58,15,43,13],[58,16,43,14,"error"],[58,21,43,19],[58,22,43,20],[58,44,43,42],[58,46,43,44,"error"],[58,51,43,49],[58,52,43,50],[59,8,44,6],[59,14,44,12,"SecureStore"],[59,25,44,23],[59,26,44,24,"deleteItemAsync"],[59,41,44,39],[59,42,44,40],[59,53,44,51],[59,54,44,52],[60,6,45,4],[60,7,45,5],[60,16,45,14],[61,8,46,6,"setIsLoading"],[61,20,46,18],[61,21,46,19],[61,26,46,24],[61,27,46,25],[62,6,47,4],[63,4,48,2],[63,5,48,3],[64,4,50,2],[64,10,50,8,"login"],[64,15,50,13],[64,18,50,16],[64,24,50,16,"login"],[64,25,50,23,"email"],[64,30,50,36],[64,32,50,38,"password"],[64,40,50,54],[64,45,50,59],[65,6,51,4],[65,12,51,10,"response"],[65,20,51,18],[65,23,51,21],[65,29,51,27,"api"],[65,32,51,30],[65,33,51,30,"default"],[65,40,51,30],[65,41,51,31,"post"],[65,45,51,35],[65,46,51,36],[65,59,51,49],[65,61,51,51],[66,8,51,53,"email"],[66,13,51,58],[67,8,51,60,"password"],[68,6,51,69],[68,7,51,70],[68,8,51,71],[69,6,52,4],[69,12,52,10],[70,8,52,12,"token"],[70,13,52,17],[70,15,52,19,"newToken"],[70,23,52,27],[71,8,52,29,"user"],[71,12,52,33],[71,14,52,35,"userData"],[72,6,52,44],[72,7,52,45],[72,10,52,48,"response"],[72,18,52,56],[72,19,52,57,"data"],[72,23,52,61],[73,6,53,4],[73,12,53,10,"SecureStore"],[73,23,53,21],[73,24,53,22,"setItemAsync"],[73,36,53,34],[73,37,53,35],[73,48,53,46],[73,50,53,48,"newToken"],[73,58,53,56],[73,59,53,57],[74,6,54,4,"setToken"],[74,14,54,12],[74,15,54,13,"newToken"],[74,23,54,21],[74,24,54,22],[75,6,55,4,"setUser"],[75,13,55,11],[75,14,55,12,"userData"],[75,22,55,20],[75,23,55,21],[76,4,56,2],[76,5,56,3],[77,4,58,2],[77,10,58,8,"register"],[77,18,58,16],[77,21,58,19],[77,27,58,19,"register"],[77,28,58,26,"name"],[77,32,58,38],[77,34,58,40,"email"],[77,39,58,53],[77,41,58,55,"password"],[77,49,58,71],[77,54,58,76],[78,6,59,4],[78,12,59,10,"response"],[78,20,59,18],[78,23,59,21],[78,29,59,27,"api"],[78,32,59,30],[78,33,59,30,"default"],[78,40,59,30],[78,41,59,31,"post"],[78,45,59,35],[78,46,59,36],[78,62,59,52],[78,64,59,54],[79,8,59,56,"name"],[79,12,59,60],[80,8,59,62,"email"],[80,13,59,67],[81,8,59,69,"password"],[82,6,59,78],[82,7,59,79],[82,8,59,80],[83,6,60,4],[83,12,60,10],[84,8,60,12,"token"],[84,13,60,17],[84,15,60,19,"newToken"],[84,23,60,27],[85,8,60,29,"user"],[85,12,60,33],[85,14,60,35,"userData"],[86,6,60,44],[86,7,60,45],[86,10,60,48,"response"],[86,18,60,56],[86,19,60,57,"data"],[86,23,60,61],[87,6,61,4],[87,12,61,10,"SecureStore"],[87,23,61,21],[87,24,61,22,"setItemAsync"],[87,36,61,34],[87,37,61,35],[87,48,61,46],[87,50,61,48,"newToken"],[87,58,61,56],[87,59,61,57],[88,6,62,4,"setToken"],[88,14,62,12],[88,15,62,13,"newToken"],[88,23,62,21],[88,24,62,22],[89,6,63,4,"setUser"],[89,13,63,11],[89,14,63,12,"userData"],[89,22,63,20],[89,23,63,21],[90,4,64,2],[90,5,64,3],[91,4,66,2],[91,10,66,8,"logout"],[91,16,66,14],[91,19,66,17],[91,25,66,17,"logout"],[91,26,66,17],[91,31,66,29],[92,6,67,4],[92,12,67,10,"SecureStore"],[92,23,67,21],[92,24,67,22,"deleteItemAsync"],[92,39,67,37],[92,40,67,38],[92,51,67,49],[92,52,67,50],[93,6,68,4,"setToken"],[93,14,68,12],[93,15,68,13],[93,19,68,17],[93,20,68,18],[94,6,69,4,"setUser"],[94,13,69,11],[94,14,69,12],[94,18,69,16],[94,19,69,17],[95,4,70,2],[95,5,70,3],[96,4,72,2],[96,10,72,8,"updateUser"],[96,20,72,18],[96,23,72,22,"data"],[96,27,72,41],[96,31,72,46],[97,6,73,4],[97,10,73,8,"user"],[97,14,73,12],[97,16,73,14],[98,8,74,6,"setUser"],[98,15,74,13],[98,16,74,14],[99,10,74,16],[99,13,74,19,"user"],[99,17,74,23],[100,10,74,25],[100,13,74,28,"data"],[101,8,74,33],[101,9,74,34],[101,10,74,35],[102,6,75,4],[103,4,76,2],[103,5,76,3],[104,4,78,2],[104,24,79,4],[104,28,79,4,"_reactJsxDevRuntime"],[104,47,79,4],[104,48,79,4,"jsxDEV"],[104,54,79,4],[104,56,79,5,"AuthContext"],[104,67,79,16],[104,68,79,17,"Provider"],[104,76,79,25],[105,6,79,26,"value"],[105,11,79,31],[105,13,79,33],[106,8,79,35,"user"],[106,12,79,39],[107,8,79,41,"token"],[107,13,79,46],[108,8,79,48,"login"],[108,13,79,53],[109,8,79,55,"register"],[109,16,79,63],[110,8,79,65,"logout"],[110,14,79,71],[111,8,79,73,"updateUser"],[111,18,79,83],[112,8,79,85,"isLoading"],[113,6,79,95],[113,7,79,97],[114,6,79,97,"children"],[114,14,79,97],[114,16,80,7,"children"],[115,4,80,15],[116,6,80,15,"fileName"],[116,14,80,15],[116,16,80,15,"_jsxFileName"],[116,28,80,15],[117,6,80,15,"lineNumber"],[117,16,80,15],[118,6,80,15,"columnNumber"],[118,18,80,15],[119,4,80,15],[119,11,81,26],[119,12,81,27],[120,2,83,0],[121,2,83,1,"_s"],[121,4,83,1],[121,5,25,16,"AuthProvider"],[121,17,25,28],[122,2,25,28,"_c"],[122,4,25,28],[122,7,25,16,"AuthProvider"],[122,19,25,28],[123,2,85,7],[123,11,85,16,"useAuth"],[123,18,85,23,"useAuth"],[123,19,85,23],[123,21,85,26],[124,4,85,26,"_s2"],[124,7,85,26],[125,4,86,2],[125,10,86,8,"context"],[125,17,86,15],[125,20,86,18],[125,24,86,18,"useContext"],[125,30,86,28],[125,31,86,28,"useContext"],[125,41,86,28],[125,43,86,29,"AuthContext"],[125,54,86,40],[125,55,86,41],[126,4,87,2],[126,8,87,6,"context"],[126,15,87,13],[126,20,87,18,"undefined"],[126,29,87,27],[126,31,87,29],[127,6,88,4],[127,12,88,10],[127,16,88,14,"Error"],[127,21,88,19],[127,22,88,20],[127,67,88,65],[127,68,88,66],[128,4,89,2],[129,4,90,2],[129,11,90,9,"context"],[129,18,90,16],[130,2,91,0],[131,2,91,1,"_s2"],[131,5,91,1],[131,6,85,16,"useAuth"],[131,13,85,23],[132,2,85,23],[132,6,85,23,"_c"],[132,8,85,23],[133,2,85,23,"$RefreshReg$"],[133,14,85,23],[133,15,85,23,"_c"],[133,17,85,23],[134,0,85,23],[134,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","updateUser","useAuth"],"mappings":"AAA;OCwB;YCK;GDE;yBEE;GFc;gBGE;GHM;mBIE;GJM;iBKE;GLI;qBME;GNI;CDO;OQE"},"hasCjsExports":false},"type":"js/module"}]}